/* --- RESET & BASES --- */
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
:root { --primary-color: #667eea; --secondary-color: #764ba2; --bg-color: #f0f2f5; --text-color: #333; --success-color: #2e7d32; --warning-color: #ef6c00; --danger-color: #d32f2f; --header-height: 70px; --nav-height: 85px; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: var(--bg-color); height: 100dvh; width: 100vw; overflow: hidden; color: var(--text-color); }

/* --- LOGIN --- */
.screen { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); z-index: 2000; }
.screen.active { display: flex; }
.login-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px; }
.login-box { background: white; padding: 30px 25px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); width: 100%; max-width: 400px; }
.login-box h2 { margin-bottom: 25px; text-align: center; }
.login-box input { width: 100%; padding: 15px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 12px; font-size: 16px; }
.login-box button { width: 100%; padding: 15px; background: var(--primary-color); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; }
.demo-info { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; font-size: 14px; color: #555; line-height: 1.5; }

/* --- HEADER --- */
.mobile-header { position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); background: white; padding: 0 20px; padding-top: env(safe-area-inset-top); box-shadow: 0 1px 5px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
.mobile-header h1 { font-size: 20px; font-weight: 700; }
.user-avatar-mini { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary-color); cursor: pointer; }

/* --- CONTENU --- */
.screen-content { height: 100vh; padding-top: calc(var(--header-height) + 20px); padding-bottom: calc(var(--nav-height) + 20px); padding-left: 15px; padding-right: 15px; overflow-y: auto; -webkit-overflow-scrolling: touch; display: none; }

/* --- CALENDRIER --- */
.calendar-navigation { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; background: white; padding: 10px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.calendar-navigation button { background: #f0f2f5; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 20px; cursor: pointer; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; background: white; padding: 10px; border-radius: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.calendar-day { aspect-ratio: 1/1; border: 1px solid #f0f0f0; border-radius: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; cursor: pointer; transition: background 0.2s; }
.calendar-day:active { background-color: #f5f5f5; }
.day-number { font-weight: 700; font-size: 18px; position: relative; z-index: 2; }
.day-status { font-size: 14px; margin-top: 2px; position: relative; z-index: 2; }
.calendar-day.header { aspect-ratio: auto; height: 30px; border: none; font-weight: bold; color: #888; font-size: 14px; }
.calendar-day.other-month { background: #fafafa; opacity: 0.5; }

/* Couleurs événements */
.calendar-day.reserved { border-color: transparent; color: #333; }
.calendar-day.pending { background: #fff3e0; border-color: #ffe0b2; color: var(--warning-color); }

.btn-new-reservation { background: var(--primary-color); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-weight: 700; font-size: 16px; box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3); cursor: pointer; }

/* --- STATISTIQUES --- */
.stat-card { background: white; padding: 15px; border-radius: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; align-items: center; gap: 15px; }
.stat-avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; }
.stat-info { flex: 1; }
.stat-bar-bg { height: 10px; background: #f0f0f0; border-radius: 5px; margin-top: 5px; overflow: hidden; }
.stat-bar-fill { height: 100%; border-radius: 5px; transition: width 1s ease-out; }

/* --- PROFIL & COULEURS --- */
.color-options-container { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; margin-top: 5px; }
.color-option { width: 35px; height: 35px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; transition: transform 0.2s; }
.color-option.selected { border: 3px solid #333; transform: scale(1.1); }

.profile-header-large { display: flex; flex-direction: column; align-items: center; margin-bottom: 30px; position: relative; }
.user-avatar-large { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); background: #ddd; }
.btn-edit-avatar { background: white; border: 1px solid #ddd; border-radius: 50%; width: 36px; height: 36px; position: absolute; bottom: 0; right: calc(50% - 60px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; }

.profile-form label { display: block; margin-top: 15px; font-weight: 600; font-size: 14px; color: #555; }
.profile-form input { width: 100%; padding: 15px; margin-top: 5px; border: 1px solid #ddd; border-radius: 12px; background: white; font-size: 16px; }
.btn-save { width: 100%; padding: 16px; margin-top: 30px; background: var(--primary-color); color: white; border: none; border-radius: 12px; font-weight: bold; font-size: 16px; cursor: pointer; }
.btn-logout { width: 100%; padding: 15px; margin-top: 20px; background-color: white; color: var(--danger-color); border: 2px solid var(--danger-color); border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }

/* --- DEMANDES & MODAL --- */
.request-card { background: white; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-left: 5px solid var(--warning-color); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.request-card h3 { font-size: 18px; margin-bottom: 5px; }
.request-card p { color: #666; margin-bottom: 15px; }
.request-actions { display: flex; gap: 10px; }
.btn-approve, .btn-reject { flex: 1; padding: 12px; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; }
.btn-approve { background: #e8f5e9; color: var(--success-color); }
.btn-reject { background: #ffebee; color: #c62828; }

.modal { display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(4px); align-items: flex-end; justify-content: center; }
.modal.active { display: flex; }
.modal-content { background: white; width: 100%; max-width: 500px; padding: 30px 25px; border-radius: 25px 25px 0 0; animation: slideUp 0.3s ease-out; max-height: 90vh; overflow-y: auto; }
@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
.close { float: right; font-size: 28px; font-weight: bold; color: #aaa; cursor: pointer; padding: 0 10px; }
.modal-content h2 { margin-bottom: 20px; font-size: 20px; }
.modal-content label { display: block; margin-top: 15px; font-weight: 600; color: #555; }
.modal-content input { width: 100%; padding: 15px; margin-top: 8px; border: 1px solid #ddd; border-radius: 12px; font-size: 16px; font-family: inherit; }

.btn-delete { width: 100%; padding: 15px; background: white; color: var(--danger-color); border: 2px solid #ffcdd2; border-radius: 30px; font-weight: 700; margin-top: 10px; cursor: pointer; }